apiVersion: v1
kind: Pod
metadata:
  name: s3-curl-test
  namespace: SAMPLE_APP_NAMESPACE
spec:
  containers:
  - name: curl
    image: curlimages/curl:latest
    command: ["/bin/sh"]
    args: ["-c", "sleep 3600"]
    env:
    - name: S3_ENDPOINT
      valueFrom:
        secretKeyRef:
          name: s3-credentials
          key: endpoint
    - name: S3_ACCESS_KEY
      valueFrom:
        secretKeyRef:
          name: s3-credentials
          key: access-key
    - name: S3_SECRET_KEY
      valueFrom:
        secretKeyRef:
          name: s3-credentials
          key: secret-key
  restartPolicy: Never
